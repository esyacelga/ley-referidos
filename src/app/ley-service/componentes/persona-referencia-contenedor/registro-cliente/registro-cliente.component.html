<app-barra-herramientas [objBtn]="objBtn"></app-barra-herramientas>
<mat-card>
  <mat-card-content>
    <!--<pre>
      {{persona|json}}
    </pre>-->
    <div class="row" *ngIf="persona.idPersonaReferencia !=undefined">
      <div class="col-sm-12 col-md-6 col-lg-6">
        <label
          class="l-h-0x font-bold small">{{'ley.label.cedula'|translate}}</label>
        <input class="form-control" type="text"
               matInput maxlength="20"
               (keyup.enter)="cargarPersona(persona.cedula)"
               (keyup.tab)="cargarPersona(persona.cedula)"
               [(ngModel)]="persona.cedula"
               placeholder="" required="true">

      </div>
      <div class="col-sm-12 col-md-6 col-lg-6">
        <label
          class="l-h-0x font-bold small">{{'ley.label.nombre'|translate}}</label>
        <input class="form-control" type="text"
               matInput maxlength="200"
               [(ngModel)]="persona.nombre"
               placeholder="" required="true">

      </div>

      <div class="col-sm-12 col-md-6 col-lg-6">
        <label
          class="l-h-0x font-bold small">{{'ley.label.telefono'|translate}}</label>
        <input class="form-control" type="text"
               matInput maxlength="200"
               [(ngModel)]="persona.telefono  "
               placeholder="" required="true">

      </div>
      <div class="col-sm-12 col-md-6 col-lg-6">
        <label
          class="l-h-0x font-bold small">{{'ley.label.direccion'|translate}}</label>
        <input class="form-control" type="text" maxlength="200"
               matInput
               [(ngModel)]="persona.direccion"
               placeholder="" required="true">

      </div>
      <div class="col-sm-12 col-md-3 col-lg-3">
        <label
          class="l-h-0x font-bold small">{{'ley.label.fecha.nacimiento'|translate}}:...</label>
        <p-calendar inputId="fechaMaximaEjecucion" dateFormat="dd/mm/yy"
                    [(ngModel)]="persona.fechaNacimiento" [locale]="CALENDER_CONFIG_EN"></p-calendar>

      </div>

    </div>

    <div *ngIf="persona.idPersonaReferencia==undefined">
      <p-table [value]="lstPersonas"
               styleClass="p-datatable-striped" selectionMode="single"
               [paginator]="true" [rows]="10" [showCurrentPageReport]="true"
               [rowsPerPageOptions]="[10,25,50]">
        <ng-template pTemplate="caption">
          <div class="p-d-flex p-ai-center p-jc-between">
            {{'siisspolweb.label.administracion.clientes'|translate}}
          </div>
        </ng-template>
        <ng-template pTemplate="header">
          <tr>
            <th pSortableColumn="idPersonaReferencia">{{'siisspolweb.comun.label.id'|translate}}
              <p-sortIcon field="idPersonaReferencia"></p-sortIcon>
            </th>
            <th pSortableColumn="cedula">{{'ley.label.cedula'|translate}}
              <p-sortIcon field="cedula"></p-sortIcon>
            </th>
            <th pSortableColumn="nombre">{{'ley.label.nombre'|translate}}
              <p-sortIcon field="nombre"></p-sortIcon>
            </th>
            <th pSortableColumn="telefono">{{'ley.label.telefono'|translate}}
              <p-sortIcon field="telefono"></p-sortIcon>
            </th>
            <th>
              {{'siisspolweb.comun.accion'|translate}}
            </th>
          </tr>
        </ng-template>
        <ng-template pTemplate="body" let-item>
          <tr>
            <td>
              {{item.idPersonaReferencia}}
            </td>
            <td>{{item.cedula}}</td>
            <td>{{item.nombre}}</td>
            <td>{{item.telefono}}</td>
            <td>
              <button mat-mini-fab
                      (click)="editarRegistro(item)"
                      color="primary"
                      matTooltip="{{'siisspolweb.comun.btn.procesado'|translate}}"
                      matTooltipPosition="above">
                <mat-icon>edit</mat-icon>
              </button>

            </td>
          </tr>
        </ng-template>
      </p-table>
    </div>
  </mat-card-content>
</mat-card>
